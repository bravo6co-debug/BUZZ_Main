# Buzz-Biz 사장님 앱 - 상세 기획서
> Version: 2.0  
> Last Updated: 2025-08-30  
> 구현 상태: UI 70% 완료, 백엔드 0%

## 📱 서비스 개요

### 타겟 사용자
- **주요**: 남구 소상공인 (카페, 음식점, 소매점)
- **특징**: 모바일 친화적, 간단한 조작 선호
- **목표**: QR 스캔으로 빠른 할인 처리

### 핵심 가치 제안
- 원클릭 QR 스캔으로 빠른 처리
- 실시간 매출 확인 및 정산
- 간편한 매장 관리

### 가입 프로세스 (승인 필수) ❌ 미구현
1. **가입 신청**: 이메일/비밀번호 + 사업자 정보 ❌
2. **서류 제출**: 사업자등록증, 통장사본 ❌ 파일 업로드 미구현
3. **Admin 승인 대기**: pending 상태 ✅ UI만 구현
4. **승인 완료**: 로그인 가능 알림 ❌
5. **첫 로그인**: 매장 정보 설정 ❌

**구현 필요사항:**
- 이메일 가입 화면
- 파일 업로드 기능 (AWS S3)
- Admin 승인 API
- 이메일 알림 시스템

---

## 🎨 UI/UX 설계

### Bottom Tab Navigation
```
[🏠 홈] [📸 QR스캔] [💳 정산] [⚙️ 설정]
```

### 앱 시작 시 = QR 스캔 화면 (Default)
사장님이 가장 자주 사용하는 기능을 바로 접근 가능

### 승인 대기 화면 (가입 후 승인 전)
```
┌─────────────────────────────────┐
│        🏪 Buzz-Biz              │
├─────────────────────────────────┤
│                                 │
│    ⏳ 가입 승인 대기 중          │
│                                 │
│  관리자가 제출하신 서류를        │
│  검토 중입니다.                 │
│                                 │
│  예상 소요시간: 1-2 영업일       │
│                                 │
│  승인 완료시 이메일로            │
│  알려드리겠습니다.              │
│                                 │
│  [📞 문의하기] [🔄 새로고침]     │
│                                 │
└─────────────────────────────────┘
```

### 컬러 시스템
- **Primary**: #FF6B35 (오렌지) - 사업자 친화적
- **Success**: #28A745 (그린) - 성공/완료
- **Warning**: #FFC107 (옐로우) - 주의/대기
- **Danger**: #DC3545 (레드) - 오류/취소

---

## 📸 QR 스캔 탭 (메인 기능) ⚠️ UI만 구현

**미구현 기능:**
- 실제 카메라 연동
- QR 코드 스캔 및 디코딩
- 백엔드 API 연동
- 실시간 데이터 업데이트

### 기본 화면 (할인 쿠폰 모드) ✅ UI 구현
```
┌─────────────────────────────────┐
│ 📸 할인 쿠폰 스캔                │
│                    [💰 마일리지로] │
├─────────────────────────────────┤
│ ┌─────────────────────────────┐ │
│ │                             │ │
│ │    [카메라 뷰파인더]          │ │
│ │                             │ │
│ │    "할인 쿠폰 QR 코드를      │ │
│ │     화면에 맞춰 주세요"       │ │
│ │                             │ │
│ │     [스캔 가이드 라인]       │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 💡 Tips                         │
│ • 밝은 곳에서 스캔하세요         │
│ • QR 코드를 화면 중앙에 맞춰주세요 │
├─────────────────────────────────┤
│ [🏠 홈] [📸 QR스캔] [💳 정산] [⚙️ 설정] │
└─────────────────────────────────┘
```

### 할인 쿠폰 스캔 완료
```
┌─────────────────────────────────┐
│ ✅ 할인 쿠폰 확인                │
├─────────────────────────────────┤
│ 👤 고객 정보                     │
│ • 고객: 김○○님                  │
│ • 전화: 010-1234-****           │
├─────────────────────────────────┤
│ 🎫 쿠폰 정보                     │
│ • 종류: 가입 축하 쿠폰           │
│ • 할인: 5,000원 할인            │
│ • 유효: 2024.12.31까지          │
├─────────────────────────────────┤
│ 💰 할인 혜택                     │
│ 결제 금액에서 5,000원을          │
│ 할인해 드리세요!                │
├─────────────────────────────────┤
│ [❌ 취소] [✅ 쿠폰 사용하기]      │
└─────────────────────────────────┘
```

### 쿠폰 사용 완료
```
┌─────────────────────────────────┐
│ 🎉 쿠폰 사용 완료!               │
├─────────────────────────────────┤
│ ✅ 할인이 적용되었습니다         │
│                                 │
│ • 할인 금액: 5,000원             │
│ • 처리 시간: 14:23              │
│ • 고객: 김○○님                  │
│ • 거래번호: #BZ241215001        │
├─────────────────────────────────┤
│ [🔄 새 QR 스캔하기]             │
│ [🏠 홈으로 가기]                │
└─────────────────────────────────┘
```

### 마일리지 모드 (토글 전환)
```
┌─────────────────────────────────┐
│ 💰 마일리지 사용 스캔            │
│                    [🎫 쿠폰으로] │
├─────────────────────────────────┤
│ ┌─────────────────────────────┐ │
│ │                             │ │
│ │    [카메라 뷰파인더]          │ │
│ │                             │ │
│ │    "마일리지 QR 코드를       │ │
│ │     화면에 맞춰 주세요"       │ │
│ │                             │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 💡 마일리지는 1P = 1원입니다     │
└─────────────────────────────────┘
```

### 마일리지 스캔 완료 - 금액 입력
```
┌─────────────────────────────────┐
│ ✅ 고객 정보 확인                │
├─────────────────────────────────┤
│ 👤 김○○님 (010-1234-****)      │
│ 💰 보유 마일리지: 15,000P        │
├─────────────────────────────────┤
│ 💳 사용할 금액을 입력하세요       │
│ ┌─────────────────────────────┐ │
│ │         10,000              │ │
│ └─────────────────────────────┘ │
│                                 │
│ [1] [2] [3]    [1천원]         │
│ [4] [5] [6]    [3천원]         │
│ [7] [8] [9]    [5천원]         │
│ [←] [0] [✓]    [전액사용]       │
├─────────────────────────────────┤
│ 💡 사용 후 잔액: 5,000P          │
├─────────────────────────────────┤
│ [❌ 취소] [✅ 마일리지 사용하기]   │
└─────────────────────────────────┘
```

---

## 🏠 홈 탭 (대시보드)

### 메인 화면
```
┌─────────────────────────────────┐
│ 👋 안녕하세요, 카페 사장님!       │
│ 📅 2024년 12월 15일 (일)        │
├─────────────────────────────────┤
│ 📊 오늘의 실적                   │
│ ┌─────────┬─────────┬─────────┐ │
│ │ 쿠폰할인  │ 마일리지  │ 총 매출   │ │
│ │   15건   │    8건   │ 123,000원│ │
│ └─────────┴─────────┴─────────┘ │
├─────────────────────────────────┤
│ 📋 최근 거래 내역                │
│ • 💰 마일리지 5,000P - 11:23    │
│ • 🎫 가입쿠폰 3,000원 - 11:15   │
│ • 💰 마일리지 2,000P - 10:58    │
│ • 🎫 기본쿠폰 3,000원 - 10:45   │
│                                 │
│ [▶ 전체 내역 보기]               │
├─────────────────────────────────┤
│ ⚡ 빠른 실행                     │
│ [📸 QR 스캔] [💳 정산 요청]      │
└─────────────────────────────────┘
```

### 거래 내역 상세
```
┌─────────────────────────────────┐
│ [←] 거래 내역                    │
├─────────────────────────────────┤
│ 📅 2024년 12월 15일             │
│                                 │
│ 11:23 💰 마일리지 사용           │
│ • 고객: 김○○님                  │
│ • 사용액: 5,000P               │
│ • 거래번호: #BZ241215015        │
│                                 │
│ 11:15 🎫 할인 쿠폰 사용         │
│ • 고객: 이○○님                  │
│ • 할인액: 3,000원               │
│ • 쿠폰: 가입 축하               │
│ • 거래번호: #BZ241215014        │
│                                 │
│ [📤 내역 공유하기]               │
└─────────────────────────────────┘
```

---

## 💳 정산 탭 ⚠️ UI만 구현

**미구현 기능:**
- 정산 상세 내역 조회
- Excel 다운로드
- Admin 연동 정산 승인
- 실제 입금 처리

### 정산 현황 대시보드 ✅ UI 구현
```
┌─────────────────────────────────────────────────┐
│ 💳 정산 관리                                    │
├─────────────────────────────────────────────────┤
│ 💰 정산 가능 금액 (오늘)                         │
│ ┌──────────────────────────────────────────┐   │
│ │         45,000 원                        │   │
│ │  마일리지: 32,000원 (30건)               │   │
│ │  쿠폰: 13,000원 (8건)                    │   │
│ │  [📤 정산 요청하기]                       │   │
│ └──────────────────────────────────────────┘   │
├─────────────────────────────────────────────────┤
│ 📊 이번 달 집계                                 │
│ • 마일리지 사용: 145,000원                      │
│ • 할인 쿠폰: 87,000원                          │
│ • 총 정산액: 232,000원                         │
│ • 정산 완료: 187,000원 (80.6%)                 │
│ • 대기 중: 45,000원                            │
├─────────────────────────────────────────────────┤
│ 📅 일별 정산 현황                               │
│ ┌─────────┬──────────┬─────────┐              │
│ │ 날짜    │ 금액     │ 상태    │              │
│ ├─────────┼──────────┼─────────┤              │
│ │ 12/15   │ 45,000원 │ 🔵 가능 │              │
│ │ 12/14   │ 18,000원 │ 🟡 대기 │              │
│ │ 12/13   │ 31,000원 │ ✅ 완료 │              │
│ │ 12/12   │ 28,000원 │ ✅ 완료 │              │
│ └─────────┴──────────┴─────────┘              │
│ [▶ 전체 내역 보기]                              │
├─────────────────────────────────────────────────┤
│ 📋 최근 정산 요청                               │
│ • 12/14 - 18,000원 🟡 승인 대기                 │
│ • 12/13 - 31,000원 ✅ 입금완료                  │
│ • 12/12 - 28,000원 ✅ 입금완료                  │
└─────────────────────────────────────────────────┘
```

### 정산 요청 프로세스
```
┌─────────────────────────────────────────────────┐
│ [←] 정산 요청                                  │
├─────────────────────────────────────────────────┤
│ 📊 정산 요청 내역 확인                          │
│ • 대상 날짜: 2024.12.15                        │
│ • 거래 건수: 38건                              │
│ • 총 금액: 45,000원                            │
├─────────────────────────────────────────────────┤
│ 📋 거래 내역 요약                               │
│ ┌──────────────────────────────────────────┐   │
│ │ 💰 마일리지 사용 (30건)                   │   │
│ │ • 총액: 32,000원                         │   │
│ │ • 평균: 1,067원/건                       │   │
│ │ • 최대: 5,000원                          │   │
│ ├──────────────────────────────────────────┤   │
│ │ 🎫 쿠폰 사용 (8건)                       │   │
│ │ • 총액: 13,000원                         │   │
│ │ • 기본쿠폰: 3건 (9,000원)                │   │
│ │ • 가입쿠폰: 2건 (10,000원)               │   │
│ │ • 이벤트: 3건 (4,000원)                  │   │
│ └──────────────────────────────────────────┘   │
├─────────────────────────────────────────────────┤
│ ⚠️ 정산 요청 전 확인사항                        │
│ • 모든 거래가 정상 처리되었나요?                │
│ • 취소/환불 건은 없나요?                        │
│ • 금액이 정확한가요?                           │
├─────────────────────────────────────────────────┤
│ [❌ 취소] [✅ 정산 요청하기]                     │
└─────────────────────────────────────────────────┘
```

### 정산 요청 완료
```
┌─────────────────────────────────────────────────┐
│ ✅ 정산 요청 완료!                              │
├─────────────────────────────────────────────────┤
│ 📋 요청 정보                                    │
│ • 요청일: 2024.12.15                           │
│ • 요청금액: 45,000원                           │
│ • 요청번호: #ST241215001                       │
│                                                │
│ 💡 admin에서 검토 후                            │
│ 3영업일 내 처리됩니다                           │
├─────────────────────────────────────────────────┤
│ [🏠 홈으로] [💳 정산현황 보기]                   │
└─────────────────────────────────────────────────┘
```

### 정산 상세 내역 보기
```
┌─────────────────────────────────────────────────┐
│ [←] 정산 상세 내역                             │
├─────────────────────────────────────────────────┤
│ 📅 2024년 12월 15일                            │
├─────────────────────────────────────────────────┤
│ 💰 마일리지 사용 내역                           │
│ ┌────────┬─────────┬────────┬──────────┐     │
│ │ 시간   │ 고객명  │ 금액   │ 거래번호 │     │
│ ├────────┼─────────┼────────┼──────────┤     │
│ │ 09:15  │ 김○○님 │ 3,000P │ #M00123  │     │
│ │ 10:30  │ 이○○님 │ 2,000P │ #M00124  │     │
│ │ 11:45  │ 박○○님 │ 1,500P │ #M00125  │     │
│ │ ...    │ ...    │ ...    │ ...      │     │
│ └────────┴─────────┴────────┴──────────┘     │
│ 합계: 30건, 32,000원                           │
├─────────────────────────────────────────────────┤
│ 🎫 쿠폰 사용 내역                               │
│ ┌────────┬─────────┬────────┬──────────┐     │
│ │ 시간   │ 고객명  │ 쿠폰   │ 거래번호 │     │
│ ├────────┼─────────┼────────┼──────────┤     │
│ │ 09:30  │ 최○○님 │ 3,000원│ #C00234  │     │
│ │ 12:15  │ 정○○님 │ 5,000원│ #C00235  │     │
│ │ ...    │ ...    │ ...    │ ...      │     │
│ └────────┴─────────┴────────┴──────────┘     │
│ 합계: 8건, 13,000원                            │
├─────────────────────────────────────────────────┤
│ 💵 총 정산 금액: 45,000원                      │
├─────────────────────────────────────────────────┤
│ [📤 Excel 다운로드] [📧 메일 전송]              │
└─────────────────────────────────────────────────┘
```

### 정산 상태 추적
```
┌─────────────────────────────────────────────────┐
│ 📢 정산 상태 알림                               │
├─────────────────────────────────────────────────┤
│ 🟡 12/14 정산 요청 - 승인 대기 중              │
│ • 요청번호: #ST241214001                       │
│ • 금액: 18,000원                               │
│ • 예상 처리일: 12/17                           │
├─────────────────────────────────────────────────┤
│ ✅ 12/13 정산 - 입금 완료                      │
│ • 요청번호: #ST241213001                       │
│ • 금액: 31,000원                               │
│ • 입금일: 12/16 14:23                          │
│ • 입금 계좌: 우리은행 ****001                  │
└─────────────────────────────────────────────────┘
```

---

## ⚙️ 설정 탭

### 메인 설정 화면
```
┌─────────────────────────────────┐
│ ⚙️ 설정                         │
├─────────────────────────────────┤
│ 🏪 매장 정보                     │
│ [📝 매장명 수정]                │
│ [📸 매장 사진 관리]              │
│ [🕐 영업시간 설정]               │
│ [📞 연락처 수정]                │
│ [📍 주소 수정]                  │
├─────────────────────────────────┤
│ 📱 앱 설정                       │
│ [🔔 알림 설정]                  │
│ [🔐 자동 로그인]                │
│ [🌐 언어 설정]                  │
├─────────────────────────────────┤
│ 📊 비즈니스 도구                 │
│ [📈 월간 리포트]                │
│ [👥 고객 분석]                  │
│ [⭐ 리뷰 관리] ✅ 신규 추가       │
│ [🏆 홈페이지 노출 신청]          │
├─────────────────────────────────┤
│ 🆘 고객 지원                     │
│ [❓ 도움말]                     │
│ [📞 문의하기]                   │
│ [📋 이용약관]                   │
└─────────────────────────────────┘
```

### 매장 정보 수정
```
┌─────────────────────────────────┐
│ [←] 매장 정보 수정               │
├─────────────────────────────────┤
│ 📝 기본 정보                     │
│ ┌─────────────────────────────┐ │
│ │ 매장명: 카페 버즈            │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 카테고리: [카페 ▼]          │ │
│ └─────────────────────────────┘ │
│                                 │
│ 📝 소개글                       │
│ ┌─────────────────────────────┐ │
│ │ 신선한 원두와 따뜻한 분위기의  │ │
│ │ 동네 카페입니다.             │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ [💾 저장하기]                   │
└─────────────────────────────────┘
```

### 매장 사진 관리
```
┌─────────────────────────────────┐
│ [←] 매장 사진 관리               │
├─────────────────────────────────┤
│ 📸 매장 갤러리 (최대 5장)        │
│                                 │
│ ┌─────┐ ┌─────┐ ┌─────┐        │
│ │사진1│ │사진2│ │ + │          │
│ │ [×] │ │ [×] │ │추가│          │
│ └─────┘ └─────┘ └─────┘        │
│                                 │
│ ┌─────┐ ┌─────┐                │
│ │사진3│ │ + │                  │
│ │ [×] │ │추가│                  │
│ └─────┘ └─────┘                │
├─────────────────────────────────┤
│ 💡 Tips                         │
│ • 매장 내부, 외부, 대표 메뉴 사진을 │
│   올리면 고객 유치에 도움됩니다   │
│ • 첫 번째 사진이 대표 사진입니다   │
├─────────────────────────────────┤
│ [💾 저장하기]                   │
└─────────────────────────────────┘
```

### ⭐ 리뷰 관리 대시보드 ✅ 신규 추가
```
┌─────────────────────────────────┐
│ [←] 리뷰 관리                    │
├─────────────────────────────────┤
│ 📊 우리 매장 평점 현황           │
│                                 │
│ ⭐ 평균 평점: 4.3/5.0            │
│ 📝 총 리뷰: 247개               │
│ 📅 이번 달 신규: 23개           │
│                                 │
│ ⭐⭐⭐⭐⭐ (89개) ████████████   │
│ ⭐⭐⭐⭐  (102개) █████████████  │
│ ⭐⭐⭐    (45개) ████████      │
│ ⭐⭐      (8개)  ██            │
│ ⭐        (3개)  █             │
├─────────────────────────────────┤
│ 🆕 최신 리뷰                    │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ ⭐⭐⭐⭐⭐ 김○○님  2시간 전  │ │
│ │ "분위기 너무 좋아요! 커피도   │ │
│ │  맛있고 직원분들 친절해요"    │ │
│ │ [답글 작성] [신고]           │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ ⭐⭐⭐⭐  이○○님  1일 전     │ │
│ │ "사진 찍기 좋은 곳이에요"     │ │
│ │ [답글 작성] [신고]           │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ [📝 전체 리뷰 보기] [📊 상세 분석] │
└─────────────────────────────────┘
```

---

## 🔧 핵심 API 연동

### QR 스캔 관련
```typescript
// 쿠폰 검증
POST /api/coupons/verify
{
  qrData: string;
  businessId: string;
}

// 쿠폰 사용
POST /api/coupons/use  
{
  couponId: string;
  businessId: string;
}

// 마일리지 검증
POST /api/mileage/verify
{
  qrData: string;
}

// 마일리지 사용
POST /api/mileage/use
{
  qrData: string;
  amount: number;
  businessId: string;
}
```

### 정산 관련
```typescript
// 일일 매출 현황
GET /api/business/daily-sales
Response: {
  date: string;
  couponCount: number;
  mileageCount: number;
  totalAmount: number;
  transactions: Transaction[];
}

// 정산 요청
POST /api/business/settlement-request
{
  targetDate: string;
  amount: number;
  details: SettlementDetail[];
}

// 정산 내역 조회
GET /api/business/settlements
Response: {
  settlements: Settlement[];
  totalPending: number;
  totalApproved: number;
}
```

### 리뷰 관리 ✅ 신규 추가
```typescript
// 매장 리뷰 조회
GET /api/business/reviews
Response: {
  reviews: BusinessReview[];
  stats: {
    averageRating: number;
    totalReviews: number;
    monthlyReviews: number;
    ratingDistribution: object;
  }
}

// 리뷰 답글 작성
POST /api/business/reviews/:reviewId/reply
{
  content: string;
}
```

### 매장 관리
```typescript
// 매장 정보 수정
PUT /api/business/profile
{
  businessName: string;
  description: string;
  category: string;
  businessHours: object;
}

// 매장 사진 업로드
POST /api/business/images
FormData: {
  files: File[];
}
```

---

## 📊 성능 및 사용성

### 핵심 성능 목표
- **QR 스캔 속도**: < 2초
- **결제 처리**: < 3초  
- **앱 시작**: < 1초

### 오프라인 지원
- **캐시된 매장 정보** 표시
- **임시 거래 저장** 후 온라인시 동기화
- **오프라인 모드** 안내

### 접근성
- **대형 텍스트** 지원
- **고대비 모드** 지원
- **음성 안내** (QR 스캔 완료시)

---

## 🚨 에러 처리

### QR 스캔 실패
- 조명 부족시 "밝은 곳에서 다시 시도" 안내
- 잘못된 QR시 "올바른 buzz QR 코드가 아닙니다"
- 만료된 QR시 "만료된 코드입니다"

### 네트워크 오류
- 연결 실패시 재시도 버튼
- 임시 저장 후 자동 재전송
- 오프라인 모드 전환

### 서버 오류
- 사용자 친화적 메시지
- 고객센터 연결 버튼
- 에러 로그 자동 전송